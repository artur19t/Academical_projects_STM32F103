# Учебные проекты STM32F103

Эта папка содержит набор учебных проектов для микроконтроллера **STM32F103C8T6** с использованием **CMSIS**. Каждый проект демонстрирует базовые приемы разработки прошивок с использованием стандартных библиотек и работы с периферией микроконтроллера.

Ниже описано содержание, структура и используемые техники каждого проекта.

---

## 1. STMF103_BLINK_IT

Микроконтроллер: **STM32F103C8**  
Проект реализован на CMSIS для STM32F103C8.

---

## Описание проекта
Этот проект демонстрирует:
- Управление кнопкой с использованием прерывания EXTI0
- Защиту от дребезга кнопки через машину состояний (FSM)
- Обработку событий кнопки через таймер SysTick (1 мс)
- Переключение светодиода на выводе PB2
- Модульную архитектуру

---

## Аппаратная конфигурация
- Светодиод подключён к **PB2** (типичная плата Blue Pill+).
- Кнопка подключена к **PA0** и настроена как вход с подтяжкой.
- Питание: 3.3 В.

---

## Работа программы
1. Нажатие кнопки PA0 вызывает EXTI0 прерывание.
2. Прерывание выставляет флаг, чтобы функция состояний в SysTick начала проверку.
2. Функция состяний ждёт 20 мс для стабилизации сигнала (антидребезг).
3. Если кнопка всё ещё нажата → вызывается Button_OnClick().
4. В Button_OnClick() переключается светодиод PB2.
5. Функция состяний ждёт отпускания кнопки для следующего нажатия.

# 2. STMF103_UART_IT

Учебный проект по работе с **UART + IT** на микроконтроллере **STM32F103** с использованием **CMSIS**.

---

## Описание проекта

Проект демонстрирует приём данных через UART по прерыванию (**RXNE interrupt**) и отправку данных в ответ. Подходит для изучения работы последовательного порта и организации неблокирующего обмена.

---

## Реализованная функциональность

* Принимает 1 байт из UART
* Обрабатывает его в обработчике
* Включает/выключает светодиод, либо отправляет ошибку

---

## **Основные элементы проекта**

* Настройка GPIO для TX/RX
* Настройка UART (скорость, формат кадра)
* Включение прерывания RXNE
* Обработчик прерывания
* Основной цикл программы

# 3. STMF103_UART_DMA

Учебный проект по работе с **UART + DMA (circular mode)** на микроконтроллере **STM32F103** с использованием **CMSIS**.

Проект демонстрирует приём данных по UART с помощью DMA в кольцевом режиме, разбор текстовых команд и управление светодиодом.

---

## Описание проекта

В проекте реализован приём команд по UART с использованием **DMA в режиме circular**, что позволяет принимать данные непрерывно без остановки DMA и без постоянного опроса UART со стороны CPU.

Принятые данные анализируются, команды распознаются и в зависимости от результата выполняется действие или отправляется сообщение об ошибке.

---

## Реализованная функциональность

- Настройка USART для приёма данных  
- Использование DMA в circular mode  
- Кольцевой буфер приёма данных  
- Разбор ASCII-команд  
- Управление светодиодом  
- Обработка неверных команд  
- Реализация без HAL, только CMSIS и регистры  

---

## Поддерживаемые команды

| Команда  | Описание               |
|----------|------------------------|
| LED_ON   | Включить светодиод     |
| LED_OFF  | Выключить светодиод    |
| другая   | Неверная команда       |

---

## Аппаратная часть

- Микроконтроллер: STM32F103  
- Плата: Blue Pill или аналогичная  
- USB–UART адаптер  
- Светодиод, подключённый к GPIO  

---

## Назначение проекта

Проект создан в учебных целях для изучения:

- работы UART совместно с DMA  
- режима circular DMA  
- неблокирующего приёма данных  
- программирования STM32 на CMSIS


